<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BTD6 Ultimate CHIMPS Planner</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #0b0e14; color: #e0e0e0; padding: 20px; }
        .container { max-width: 850px; margin: auto; background: #1a1c23; padding: 25px; border-radius: 12px; border: 1px solid #2d333b; box-shadow: 0 10px 40px rgba(0,0,0,0.6); }
        h2 { color: #00d1b2; text-align: center; text-transform: uppercase; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #7a7a7a; font-size: 0.85em; margin-bottom: 20px; }
        .input-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; color: #00d1b2; font-weight: bold; font-size: 0.9em; }
        select { width: 100%; padding: 10px; border-radius: 6px; background: #2d333b; color: white; border: 1px solid #3e444d; cursor: pointer; }
        .btn-random { width: 100%; padding: 15px; background: #00d1b2; color: #0b0e14; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 20px; }
        .summary { background: #0b0e14; padding: 20px; border-radius: 10px; border-left: 5px solid #00d1b2; }
        .total-box { font-size: 1.8em; text-align: center; margin-top: 10px; padding: 15px; border-radius: 8px; font-weight: bold; }
        .under-budget { border: 2px solid #00d1b2; color: #00d1b2; }
        .over-budget { border: 2px solid #ff3860; color: #ff3860; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }
        .cost-row { display: flex; justify-content: space-between; border-bottom: 1px solid #2d333b; padding: 8px 0; font-size: 0.95em; }
        optgroup { background: #1a1c23; color: #00d1b2; }
    </style>
</head>
<body>

<div class="container">
    <h2>CHIMPS Strategy Planner</h2>
    <div class="subtitle">Complete Tier 5 Database (Hard Mode Prices)</div>
    
    <button class="btn-random" onclick="rollRandom()">üé≤ ROLL RANDOM STRATEGY</button>

    <div class="input-group">
        <label>Hero Selection:</label>
        <select id="heroSelect" onchange="updateUI()"></select>
    </div>

    <div class="input-group">
        <label>Primary/Military T5:</label>
        <select id="tower1" onchange="updateUI()"></select>
    </div>

    <div class="input-group">
        <label>Magic/Support T5:</label>
        <select id="tower2" onchange="updateUI()"></select>
    </div>

    <div class="summary">
        <div id="priceReport"></div>
        <div id="totalDisplay" class="total-box">Total: $0</div>
        <div id="saveupAdvice" style="margin-top:15px; font-style: italic; color: #95a5a6; text-align: center;"></div>
    </div>
</div>

<script>
const heroes = [
    { name: "Quincy", price: 585 }, { name: "Gwen", price: 970 }, { name: "Obyn", price: 700 },
    { name: "Churchill", price: 2160 }, 
    { name: "Ezili", price: 650 }, { name: "Pat Fusty", price: 865 }, { name: "Adora", price: 1080 },
    { name: "Admiral Brickell", price: 970 }, { name: "Etienne", price: 920 }, { name: "Sauda", price: 650 },
    { name: "Psi", price: 1080 }, { name: "Geraldo", price: 1325 }, { name: "Corvus", price: 1325 },
    { name: "Silas", price: 1200 }, { name: "Rosalia", price: 1100 }
];

const primaryT5 = [
    { name: "Dart: Ultra-Jugg", price: 18740 }, { name: "Dart: PMFC", price: 53700 }, { name: "Dart: XBM", price: 27375 },
    { name: "Boomer: Glaive Lord", price: 42100 }, { name: "Boomer: Perma Charge", price: 41250 }, { name: "Boomer: MOAB Dom", price: 63500 },
    { name: "Bomb: Bloon Crush", price: 61000 }, { name: "Bomb: MOAB Elim", price: 31500 }, { name: "Bomb: Bomb Blitz", price: 40500 },
    { name: "Tack: Inferno Ring", price: 55500 }, { name: "Tack: S-Maelstrom", price: 18500 }, { name: "Tack: Tack Zone", price: 25850 },
    { name: "Ice: Super Brittle", price: 38500 }, { name: "Ice: Absolute Zero", price: 26000 }, { name: "Ice: Icicle Impale", price: 38200 },
    { name: "Glue: Bloon Solver", price: 31000 }, { name: "Glue: Glue Storm", price: 19500 }, { name: "Glue: Super Glue", price: 35000 }
];

const militaryT5 = [
    { name: "Sniper: Cripple MOAB", price: 45000 }, { name: "Sniper: Elite Sniper", price: 21500 }, { name: "Sniper: Elite Defender", price: 17500 },
    { name: "Sub: Energizer", price: 37000 }, { name: "Sub: Pre-Emptive", price: 43000 }, { name: "Sub: Sub Commander", price: 34000 },
    { name: "Ace: Sky Shredder", price: 46100 }, { name: "Ace: Tsar Bomba", price: 38000 }, { name: "Ace: Big Plane", price: 102000 },
    { name: "Heli: Apache Prime", price: 58000 }, { name: "Heli: Com. Commander", price: 38000 }, { name: "Heli: Special Poperations", price: 32000 },
    { name: "Dartling: Ray of Doom", price: 112000 }, { name: "Dartling: M.A.D", price: 72000 }, { name: "Dartling: B.E.Z", price: 62000 }
];

const magicT5 = [
    { name: "Wizard: Archmage", price: 42500 }, { name: "Wizard: WLP", price: 65000 }, { name: "Wizard: Prince Darkness", price: 31800 },
    { name: "Super: True Sun God", price: 650000 }, { name: "Super: Anti-Bloon", price: 103000 }, { name: "Super: Legend of Night", price: 255000 },
    { name: "Ninja: Grandmaster", price: 52000 }, { name: "Ninja: Grand Saboteur", price: 25000 }, { name: "Ninja: Master Bomber", price: 44000 },
    { name: "Alch: Permabrew", price: 72000 }, { name: "Alch: Total Transfo", price: 51000 }, { name: "Alch: BMA", price: 54000 },
    { name: "Druid: Superstorm", price: 75000 }, { name: "Druid: Spirit Forest", price: 48000 }, { name: "Druid: Avatar Wrath", price: 52000 },
    { name: "Mermonkey: Abyss Lord", price: 34500 }, { name: "Mermonkey: Popseidon", price: 48000 }, { name: "Mermonkey: Final Harmonic", price: 41200 }
];

const supportT5 = [
    { name: "Spike: Super Mines", price: 162500 }, { name: "Spike: Carpet Spikes", price: 45000 }, { name: "Spike: Perma-Spike", price: 39500 },
    { name: "Village: Primary Expert", price: 32000 }, { name: "Village: Homeland", price: 55000 }, { name: "Village: Monkeyopolis", price: 15000 },
    { name: "Engi: Sent. Champion", price: 36000 }, { name: "Engi: Ultraboost", price: 115000 }, { name: "Engi: XXXL Trap", price: 62000 },
    { name: "Beast: Megalodon", price: 65000 }, { name: "Beast: PouƒÅkai", price: 48000 }, { name: "Beast: Giganotosaurus", price: 82000 }
];

function populate() {
    const hSelect = document.getElementById('heroSelect');
    const t1Select = document.getElementById('tower1');
    const t2Select = document.getElementById('tower2');

    heroes.forEach((h, i) => hSelect.add(new Option(`${h.name} ($${h.price})`, i)));
    
    const g1 = document.createElement('optgroup'); g1.label = "PRIMARY";
    primaryT5.forEach((t, i) => g1.appendChild(new Option(t.name, "P" + i)));
    t1Select.appendChild(g1);
    
    const g2 = document.createElement('optgroup'); g2.label = "MILITARY";
    militaryT5.forEach((t, i) => g2.appendChild(new Option(t.name, "M" + i)));
    t1Select.appendChild(g2);

    const g3 = document.createElement('optgroup'); g3.label = "MAGIC";
    magicT5.forEach((t, i) => g3.appendChild(new Option(t.name, "Ma" + i)));
    t2Select.appendChild(g3);
    
    const g4 = document.createElement('optgroup'); g4.label = "SUPPORT";
    supportT5.forEach((t, i) => g4.appendChild(new Option(t.name, "S" + i)));
    t2Select.appendChild(g4);
}

function rollRandom() {
    document.getElementById('heroSelect').selectedIndex = Math.floor(Math.random() * heroes.length);
    document.getElementById('tower1').selectedIndex = Math.floor(Math.random() * (primaryT5.length + militaryT5.length));
    document.getElementById('tower2').selectedIndex = Math.floor(Math.random() * (magicT5.length + supportT5.length));
    updateUI();
}

function updateUI() {
    const h = heroes[document.getElementById('heroSelect').value];
    const t1Val = document.getElementById('tower1').value;
    const t2Val = document.getElementById('tower2').value;

    const getTower = (val) => {
        if(val.startsWith("P")) return primaryT5[val.substring(1)];
        if(val.startsWith("M")) return militaryT5[val.substring(1)];
        if(val.startsWith("Ma")) return magicT5[val.substring(2)];
        if(val.startsWith("S")) return supportT5[val.substring(1)];
    };

    const t1 = getTower(t1Val);
    const t2 = getTower(t2Val);
    const total = h.price + t1.price + t2.price;

    document.getElementById('priceReport').innerHTML = `
        <div class="cost-row"><span>${h.name}</span><span>$${h.price.toLocaleString()}</span></div>
        <div class="cost-row"><span>${t1.name}</span><span>$${t1.price.toLocaleString()}</span></div>
        <div class="cost-row"><span>${t2.name}</span><span>$${t2.price.toLocaleString()}</span></div>
    `;

    const totalBox = document.getElementById('totalDisplay');
    const advice = document.getElementById('saveupAdvice');
    totalBox.innerText = `Total: $${total.toLocaleString()}`;

    if (total > 178000) {
        totalBox.className = "total-box over-budget";
        advice.innerText = "üö® IMPOSSIBLE: Total exceeds total CHIMPS income (~$178k).";
    } else if (total > 110000) {
        totalBox.className = "total-box over-budget";
        advice.innerText = "‚ö†Ô∏è TIGHT SAVEUP: You need an elite mid-game bridge like 0-3-2 Sniper.";
    } else {
        totalBox.className = "total-box under-budget";
        advice.innerText = "‚úÖ COMFORTABLE: Plenty of cash for Alchemists and Villages.";
    }
}

populate();
updateUI();
</script>
</body>
</html>

